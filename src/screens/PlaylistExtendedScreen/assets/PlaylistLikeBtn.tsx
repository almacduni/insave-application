import React, { FC } from "react";
import Svg, { Path, Mask } from "react-native-svg";
import Animated, { useAnimatedProps, interpolateColor } from "react-native-reanimated";

import { scale } from "../../../helpers/sizeConverter";

type PlaylistButtonPropTypes = {
	progress: Readonly<Animated.SharedValue<number>>;
};

const AnimatedPath = Animated.createAnimatedComponent(Path);

export const PlaylistLikeBtnIcon: FC<PlaylistButtonPropTypes> = ({ progress }) => {
	const headerSVGAnimatedProps = useAnimatedProps(() => {
		const fill = interpolateColor(
			progress.value,
			[0, 1],
			["rgb(255,255,255)", "rgb(0,0,0)"],
			"RGB",
		);

		return { fill };
	});

	return (
		<Svg width={ scale(20) } height={ scale(18) } viewBox={ `0 0 ${scale(20)} ${scale(18)}` } fill="none">
			<Mask id="path-1-inside-1" fill="white">
				<Path
					fillRule="evenodd"
					clipRule="evenodd"
					d="M1.61444 1.63319C-0.476578 3.74849 -0.536388 7.14048 1.43502 9.32882L10.0067 18L17.7977 10.1186L17.7952 10.1161L18.3856 9.51892C20.5382 7.34134 20.5382 3.81077 18.3856 1.63319C16.233 -0.544395 12.7429 -0.544396 10.5903 1.63319L10 2.23038L9.40967 1.63319C7.25708 -0.544397 3.76704 -0.544396 1.61444 1.63319Z"
				/>
			</Mask>
			<AnimatedPath
				animatedProps={ headerSVGAnimatedProps }
				d="M1.43502 9.32882L-0.050923 10.6675L-0.019908 10.7019L0.0126683 10.7348L1.43502 9.32882ZM1.61444 1.63319L0.192092 0.227162L0.192092 0.227162L1.61444 1.63319ZM10.0067 18L8.58434 19.406L10.0067 20.8449L11.429 19.406L10.0067 18ZM17.7977 10.1186L19.22 11.5246L20.6098 10.1187L19.2201 8.71266L17.7977 10.1186ZM17.7952 10.1161L16.3729 8.71009L14.9831 10.116L16.3728 11.522L17.7952 10.1161ZM18.3856 9.51892L19.8079 10.925V10.9249L18.3856 9.51892ZM18.3856 1.63319L16.9632 3.03922L18.3856 1.63319ZM10.5903 1.63319L12.0127 3.03922L12.0127 3.03922L10.5903 1.63319ZM10 2.23038L8.57766 3.63641L10 5.07527L11.4224 3.63641L10 2.23038ZM9.40967 1.63319L10.832 0.227161V0.227161L9.40967 1.63319ZM2.92096 7.99017C1.65488 6.58478 1.69481 4.39679 3.0368 3.03922L0.192092 0.227162C-2.64797 3.1002 -2.72766 7.69619 -0.050923 10.6675L2.92096 7.99017ZM11.429 16.594L2.85737 7.92279L0.0126683 10.7348L8.58434 19.406L11.429 16.594ZM11.429 19.406L19.22 11.5246L16.3753 8.71254L8.58434 16.594L11.429 19.406ZM16.3728 11.522L16.3752 11.5245L19.2201 8.71266L19.2177 8.71021L16.3728 11.522ZM16.9632 8.11289L16.3729 8.71009L19.2176 11.5221L19.8079 10.925L16.9632 8.11289ZM16.9632 3.03922C18.3456 4.43766 18.3456 6.71445 16.9632 8.11289L19.8079 10.9249C22.7307 7.96822 22.7307 3.18389 19.8079 0.227162L16.9632 3.03922ZM12.0127 3.03922C13.3824 1.6536 15.5935 1.6536 16.9632 3.03922L19.8079 0.227162C16.8725 -2.74239 12.1035 -2.74239 9.168 0.227162L12.0127 3.03922ZM11.4224 3.63641L12.0127 3.03922L9.168 0.227161L8.57766 0.824353L11.4224 3.63641ZM7.98732 3.03922L8.57766 3.63641L11.4224 0.824354L10.832 0.227161L7.98732 3.03922ZM3.0368 3.03922C4.40652 1.65359 6.6176 1.65359 7.98732 3.03922L10.832 0.227161C7.89656 -2.74239 3.12756 -2.74239 0.192092 0.227162L3.0368 3.03922Z"
				fill="white"
				mask="url(#path-1-inside-1)"
			/>
		</Svg>
	);
};
